import"./modulepreload-polyfill-3cfb730f.js";function s(t){return document.querySelector(t)}const l=s("#add-note-btn"),a=s("#notes");window.addEventListener("load",d);function d(){const t=c();for(const e of t){const n=r(e);a.appendChild(n)}}l.addEventListener("click",u);function u(){const e={id:btoa(+Math.random()),note:""},n=r(e);m(e),a.insertBefore(n,a.firstChild)}function r(t){const e=document.createElement("article");e.id=t.id;const n=document.createElement("textarea");n.addEventListener("focusout",N),n.textContent=t.note;const o=document.createElement("button");return o.addEventListener("click",E),o.innerHTML='<span class="material-icons">delete</span>',e.append(n,o),e}function c(){let t=localStorage.getItem("notes");return t==null?[]:JSON.parse(t)}function m(t){let e=[],n=localStorage.getItem("notes");n!=null&&(e=JSON.parse(n)),e=[t,...e],localStorage.setItem("notes",JSON.stringify(e))}function f(t){const e=c(),n=[];for(const o of e)o.id===t.id&&(o.note=t.note),n.push(o);localStorage.setItem("notes",JSON.stringify(n))}function g(t){const e=c(),n=[];for(const o of e)o.id!==t&&n.push(o);localStorage.setItem("notes",JSON.stringify(n))}function N(t){const e=t.target.parentElement,n=t.target.value,i={id:e.id,note:n};f(i)}function E(t){const e=t.target.parentElement.parentElement,n=e.id;a.removeChild(e),g(n)}
